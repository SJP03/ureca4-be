# 공통 데이터베이스 설정
spring:
  config:
    import: optional:file:.env[.properties]
  
  profiles:
    active: local  # 기본값 로컬

  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver

  # SQL 초기화 설정 (schema.sql 자동 실행)
  sql:
    init:
      mode: always
      schema-locations: classpath:schema.sql
      continue-on-error: false

  # Flyway 설정
  # flyway:
  #   enabled: true
  #   baseline-on-migrate: true
  #   locations: classpath:db/migration

# Jasypt 암호화
jasypt:
  encryptor:
    password: ${JASYPT_PASSWORD}
    algorithm: PBEWithMD5AndDES
    iv-generator-classname: org.jasypt.iv.NoIvGenerator

# 로깅
logging:
  level:
    root: INFO
    com.ureca.billing: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

billing:
  data:
    generation:
      enabled: true
      users-count: 100000